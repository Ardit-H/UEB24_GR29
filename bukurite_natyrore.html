<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bukuritë Natyrore</title>
    <link rel="stylesheet" href="Bukurite/bukurite_natyrore.css" />
    <link rel="stylesheet" href="general.css" />
  </head>
  <body>
    <div class="content">
      <header id="navbar-placeholder"></header>
      <div class="imazhet"></div>
      <div class="tabs">
        <button class="tab-butoni active" data-city="prishtine">
          Prishtinë
        </button>
        <button class="tab-butoni" data-city="peje">Pejë</button>
        <button class="tab-butoni" data-city="prizreni">Prizren</button>
      </div>
      <!-- PRISHTINA -->
      <div class="qyteti active" id="prishtine"></div>
      <!-- PEJA -->
      <div class="qyteti" id="peje"></div>
      <!-- PRIZRENI -->
      <div class="qyteti" id="prizreni"></div>
      <footer id="footer-placeholder"></footer>
    </div>
    <script>
      async function vendosPermbajtjenEQytetit(qytetiID, qytetiFile) {
        const targetCity = document.getElementById(qytetiID);
        const response = await fetch(qytetiFile);
        if (response.ok) {
          const html = await response.text();
          targetCity.innerHTML = html;
          if (typeof window.vleresimiIVendeve === "function") {
            window.vleresimiIVendeve();
          } else {
            console.error("vleresimiIVendeve nuk u gjend!");
          }
        } else {
          console.error(
            `Deshtoj mbushja e permbajtjes se qytetit ${qytetiID}:`,
            response.statusText
          );
        }
      }
      vendosPermbajtjenEQytetit("prishtine", "Bukurite/prishtine.html");
      vendosPermbajtjenEQytetit("peje", "Bukurite/peja.html");
      vendosPermbajtjenEQytetit("prizreni", "Bukurite/prizreni.html");
    </script>
    <script src="Bukurite/bukurite_natyrore.js"></script>
    <script src="general.js"></script>
    <script src="Bukurite/tabs.js"></script>
    <script src="Bukurite/update-foto.js"></script>
    <script>
      async function loadFooter() {
        const footerPlaceholder = document.getElementById("footer-placeholder");
        const response = await fetch("footer.html");
        if (response.ok) {
          footerPlaceholder.innerHTML = await response.text();

          const currentYearElement = document.getElementById("currentYear");
          if (currentYearElement) {
            currentYearElement.textContent = new Date().getFullYear();
          } else {
            console.error(
              "Elementi me id 'currentYear' nuk u gjete ne footer!"
            );
          }

          const canvas = document.getElementById("circleCanvas");
          if (canvas) {
            const ctx = canvas.getContext("2d");
            ctx.beginPath();
            ctx.arc(10, 10, 8, 0, 2 * Math.PI);
            ctx.stroke();
          } else {
            console.error("Elementi Canvas nuk u gjete!");
          }
        } else {
          console.error("Deshtoje ngarkimi i footer:", response.statusText);
        }
      }
      document.addEventListener("DOMContentLoaded", () => {
        loadFooter();
      });
    </script>
  </body>
</html>
